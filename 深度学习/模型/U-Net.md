![image-20251219161629478](assets/image-20251219161629478.png)

需要注意的是原始的UNet是没有padding的，所以每一次3x3卷积之后图像的尺寸都会减少。另外从图中可以看出，每次下采样，通道数会翻倍；每次上采样，通道数减半。正因为没有padding，所以每次copy and crop是裁剪出原来的一部分进行拼接。

原始的U-Net也没有Batch Norm，因为2015年BN还没出。现在的U-Net大多都是有BN，而且padding的了。

假如有一张大图像要进行目标分割，直接整张图像处理会使显存爆炸，一般是分成小块处理：

<img src="assets/5c01209c226879490a9fcae3fa603a94.jpg" alt="5c01209c226879490a9fcae3fa603a94" style="zoom: 50%;" />

每个patch之间有重叠，这样可以照顾到每个patch的边界区域。

从上面的第一张图可以看到，输入的图是572x572x1，但是最终的输出是388x388x2，也就是原始的U-Net只是对图像中的一部分进行了目标分割：

![image-20251219163531424](assets/image-20251219163531424.png)

用原文的话就是：对黄色部分做目标分割就要以蓝色部分做输入。为了把整张图都做目标分割，原文是这样做的：

<img src="assets/65885e9b62b0f0d16163939fc4cb7847.jpg" alt="65885e9b62b0f0d16163939fc4cb7847" style="zoom:67%;" />

现在的U-Net都加padding了，所以可能不再需要这样处理