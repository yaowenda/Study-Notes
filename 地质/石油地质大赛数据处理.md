参数解释：

DEPT：深度

R4：R4 在测井中一般表示“电阻率测井中最深探测层的电阻率值”，用于反映远离井壁、最接近原状地层流体性质的区域的导电特性。

GR：自然伽马测井：用于测量地层中放射性元素释放出的伽马射线强度。GR 数据可以帮助识别岩石类型

CAL：井径测量，用于测量井筒直径的变化，它可以提供关于井壁稳定性和井眼规则性的信息



KB：KB高度通常是指地面到钻井平台表面（即凯利旋塞所在位置）的垂直距离。因此，KB常被用作参考点来测量井深，特别是在描述从地面到井底的总深度时。

MD：沿着井眼轨迹实际测量得到的深度，也就是从井口（通常是通过KB点）到井下任意一点沿井筒路径的实际长度。



电阻率类（反映底层导电性）：判断地层含油性、识别油层、气层与水层。

| 缩写     | 全称                        | 含义                                                 |
| -------- | --------------------------- | ---------------------------------------------------- |
| **MSFL** | Micro Spherical Focused Log | 微球聚焦电阻率，表示井壁附近（冲洗带）的电阻率       |
| **COND** | Conductivity                | 电导率（电阻率的倒数），有时与深电阻率或浅电阻率有关 |
| **LLS**  | Laterolog Shallow           | 浅探测电阻率（Laterolog仪器）                        |
| **LLD**  | Laterolog Deep              | 深探测电阻率，反映侵入带外地层的电阻率               |
| **ILM**  | Induction Log Medium        | 中探测电阻率（感应测井）                             |
| **ILD**  | Induction Log Deep          | 深感应电阻率，常用于评价未被泥浆侵入的原状地层       |
| **MLL**  | Microlaterolog              | 微型电阻率测井，用于测量冲洗带的电阻率               |



自然电位类

| 缩写   | 全称                  | 含义                                                         |
| ------ | --------------------- | ------------------------------------------------------------ |
| **SP** | Spontaneous Potential | 自然电位曲线，反映泥浆和地层水之间的电化学势差，用于确定渗透性层位和泥岩/砂岩界面 |



密度、声波、孔隙度类：综合判断岩性、孔隙度、含流体性质等。

| 缩写            | 全称                                | 含义                                                         |
| --------------- | ----------------------------------- | ------------------------------------------------------------ |
| **DEN**         | Density Log                         | 密度测井，用于计算地层密度和推断孔隙度                       |
| **AC** / **DT** | Acoustic Travel Time (or Sonic Log) | 声波时差，反映声波在地层中的传播速度，常用于计算孔隙度或地层强度 |
| **CNL**         | Compensated Neutron Log             | 补偿中子测井，反映氢含量，用于估算地层孔隙度（尤其是饱水孔隙度） |



**Laterolog**（LLD/LLS）：适用于盐水泥浆环境

**Induction**（ILD/ILM）：适用于不导电泥浆（如油基泥浆）

**MSFL/MLL**：更贴近井壁，反映冲洗带信息

**CNL 与 DEN** 通常一起分析，用于判断气层（密度孔隙度＞中子孔隙度）

**SP 曲线** 结合电阻率曲线可识别渗透层



A1：

|      | AC   | CNL  | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   |      | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A2：

|      | AC   | CNL  | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   | CAL  | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |



A3：

| SP   | AC   | CNL  | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   | CAL  | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A4：

|      | AC   | CNL  | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   | CAL  | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A5：

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL | PEF  |      |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |



A6：

|      | AC   | CNL  | DEN  | GR   | LLD  | LLS  | MSFL |      | R4   | CAL  | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A7：

| SP   | AC   |      |      | GR   |      |      |      |      | R4   | CAL  |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

MLL、COND、

A8：

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A9:

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A10:

|      | AC   | CNL  | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   | CAL  | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A11:

|      | AC   |      | DEN  | GR   | LLD  | LLS  |      |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A12:

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   | CAL  | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A13：（测井数据2）

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL |      | R4   | CAL  |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

COND

A14:

|      | AC   |      | GR   | LLD  | LLS  |      |      |      | R4   |      | ILD  | ILM  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A15：

|      | AC 7 |      |      | GR 2 | LLD 6 | LLS 3 | MSFL |      | R4 9 | CAL 4 |      |      |
| ---- | ---- | ---- | ---- | ---- | ----- | ----- | ---- | ---- | ---- | ----- | ---- | ---- |

A16:

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL |      | R4   | CAL  |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

COND

A17:

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A18:

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A19:

|      | AC   |      | DEN  | GR   | LLD  | LLS  |      |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A20:

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL | PEF  | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A21:

|      | AC   |      | DEN  | GR   |      |      |      |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A22:

|      | AC   |      |      | GR   |      |      |      |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

RXO

A23:

|      | AC   |      | DEN  | GR   |      |      | MSFL |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

A24:

|      | AC   |      | DEN  | GR   | LLD  | LLS  | MSFL |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |

AC2 DEN1

A25:

|      | AC   |      | DEN  | GR   | LLD  | LLS  |      |      | R4   |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |





8、9、11没有岩性数据

10、12的岩性数据不能用



读取的 有对应岩性数据的井:

A1

A2

A3

A4

A5

A6

A7

A13



A14

A15

A16

共11口井

这样分有问题：A14里面出现的“白色盐岩” 在之前没见过，那么就没办法给它编码





catBoost示例代码：

```
from catboost import CatBoostClassifier

# 假设你已生成包含所有曲线（即全集）的 dataframe
df.fillna(value=np.nan, inplace=True)  # 缺的特征保留 NaN

model = CatBoostClassifier(iterations=500, depth=6, learning_rate=0.1, verbose=100)
model.fit(X_train, y_train)
```



```py
model = CatBoostClassifier(
    iterations=1000, #训练迭代次数，也就是构建多少棵决策树，值越大模型越复杂，可能越准确但也更容易过拟合
    learning_rate=0.05, #学习率 常见为0.01~0.3
    depth=6, # 每棵树的最大深度 树越深表达能力越强但也容易过拟合 4~10调优
    loss_function='MultiClass', #指定损失函数
    eval_metric='Accuracy', #正确率作为评估指标
    verbose=100, #每100次迭代输出一次训练信息
    random_seed=42 #随机种子
)
```



 iterations=1000，learning_rate=0.05，depth=6时：

```
0:	learn: 0.6632000	test: 0.6654080	best: 0.6654080 (0)	total: 161ms	remaining: 2m 40s
100:	learn: 0.7277760	test: 0.7256960	best: 0.7256960 (100)	total: 16.9s	remaining: 2m 30s
200:	learn: 0.7448640	test: 0.7394560	best: 0.7399040 (194)	total: 33s	remaining: 2m 11s
300:	learn: 0.7562720	test: 0.7502080	best: 0.7502080 (298)	total: 51s	remaining: 1m 58s
400:	learn: 0.7676480	test: 0.7604480	best: 0.7604480 (400)	total: 1m 8s	remaining: 1m 42s
500:	learn: 0.7769440	test: 0.7656320	best: 0.7656320 (499)	total: 1m 25s	remaining: 1m 25s
600:	learn: 0.7853440	test: 0.7708160	best: 0.7709440 (597)	total: 1m 41s	remaining: 1m 7s
700:	learn: 0.7935840	test: 0.7753600	best: 0.7754240 (697)	total: 1m 58s	remaining: 50.6s
800:	learn: 0.8018080	test: 0.7803520	best: 0.7804800 (797)	total: 2m 15s	remaining: 33.7s
900:	learn: 0.8089120	test: 0.7853440	best: 0.7853440 (900)	total: 2m 32s	remaining: 16.8s
999:	learn: 0.8152480	test: 0.7893760	best: 0.7895040 (998)	total: 2m 48s	remaining: 0us

bestTest = 0.789504
bestIteration = 998

Shrink model to first 999 iterations.
验证集准确率： 0.789504
```

```
              precision    recall  f1-score   support

          未知       0.00      0.00      0.00       730
          泥岩       0.26      0.86      0.40      4367
       泥质粉砂岩       0.00      0.00      0.00       714
      浅灰色粉砂岩       0.00      0.00      0.00        47
    浅灰色荧光粉砂岩       0.00      0.00      0.00       100
       深灰色泥岩       0.00      0.00      0.00       369
    深灰色白云质泥岩       0.00      0.00      0.00         4
     深灰色砂质泥岩       0.00      0.00      0.00        20
    深灰色钙芒硝泥岩       0.00      0.00      0.00         8
        灰色泥岩       0.00      0.00      0.00      2508
     灰色泥质粉砂岩       0.00      0.00      0.00        96
     灰色白云质泥岩       0.00      0.00      0.00        14
    灰色白云质粉砂岩       0.00      0.00      0.00         3
      灰色砂质泥岩       0.00      0.00      0.00       125
       灰色粉砂岩       0.00      0.00      0.00       386
   灰色荧光泥质粉砂岩       0.00      0.00      0.00         2
     灰色荧光粉砂岩       0.00      0.00      0.00         6
     灰褐色油斑泥岩       0.00      0.00      0.00        25
  灰褐色油斑白云质泥岩       0.00      0.00      0.00        38
    灰褐色油斑粉砂岩       0.00      0.00      0.00        72
  灰褐色油斑钙芒硝泥岩       0.00      0.00      0.00         2
     灰褐色油浸泥岩       0.00      0.00      0.00       270
       白云质泥岩       0.00      0.00      0.00        40
        白色盐岩       0.00      0.00      0.00      3045
          盐层       0.46      0.94      0.62      4540
        盐质泥岩       0.00      0.00      0.00       100
       石膏质泥岩       0.00      0.00      0.00      3423
        砂质泥岩       0.00      0.00      0.00       778
         粉砂岩       1.00      0.07      0.12      1981
       粉砂质泥岩       0.00      0.00      0.00        40
         膏盐岩       0.00      0.00      0.00         0
  褐灰色油迹白云质泥岩       0.00      0.00      0.00        26
    褐灰色油迹粉砂岩       0.00      0.00      0.00        21
  褐灰色油迹钙芒硝泥岩       0.00      0.00      0.00        13
  黄褐色荧光泥质白云岩       0.00      0.00      0.00         3

    accuracy                           0.34     23916
   macro avg       0.05      0.05      0.03     23916
weighted avg       0.22      0.34      0.20     23916
```











iterations=2000，learning_rate=0.03，depth=8时：

```
0:	learn: 0.6967040	test: 0.6963200	best: 0.6963200 (0)	total: 415ms	remaining: 13m 49s
100:	learn: 0.7292960	test: 0.7273600	best: 0.7273600 (100)	total: 36.5s	remaining: 11m 25s
200:	learn: 0.7457920	test: 0.7415040	best: 0.7415040 (200)	total: 1m 11s	remaining: 10m 40s
300:	learn: 0.7596960	test: 0.7531520	best: 0.7531520 (300)	total: 1m 48s	remaining: 10m 10s
400:	learn: 0.7705440	test: 0.7607680	best: 0.7607680 (400)	total: 2m 24s	remaining: 9m 35s
500:	learn: 0.7803520	test: 0.7677440	best: 0.7677440 (500)	total: 2m 59s	remaining: 8m 57s
600:	learn: 0.7911680	test: 0.7746560	best: 0.7747840 (597)	total: 3m 29s	remaining: 8m 7s
700:	learn: 0.8005440	test: 0.7806080	best: 0.7806080 (700)	total: 4m 1s	remaining: 7m 27s
800:	learn: 0.8088320	test: 0.7843840	best: 0.7844480 (799)	total: 4m 33s	remaining: 6m 48s
900:	learn: 0.8172960	test: 0.7889920	best: 0.7889920 (897)	total: 5m 5s	remaining: 6m 12s
1000:	learn: 0.8253760	test: 0.7934080	best: 0.7935360 (998)	total: 5m 36s	remaining: 5m 35s
1100:	learn: 0.8323040	test: 0.7982080	best: 0.7982080 (1097)	total: 6m 6s	remaining: 4m 59s
1200:	learn: 0.8385120	test: 0.8005120	best: 0.8005120 (1198)	total: 6m 37s	remaining: 4m 24s
1300:	learn: 0.8445440	test: 0.8037760	best: 0.8038400 (1294)	total: 7m 9s	remaining: 3m 50s
1400:	learn: 0.8497120	test: 0.8071040	best: 0.8071040 (1399)	total: 7m 41s	remaining: 3m 17s
1500:	learn: 0.8554720	test: 0.8097920	best: 0.8099840 (1496)	total: 8m 15s	remaining: 2m 44s
1600:	learn: 0.8609440	test: 0.8120320	best: 0.8120960 (1598)	total: 8m 50s	remaining: 2m 12s
1700:	learn: 0.8660160	test: 0.8139520	best: 0.8140800 (1699)	total: 9m 26s	remaining: 1m 39s
1800:	learn: 0.8705440	test: 0.8164480	best: 0.8167040 (1794)	total: 10m 3s	remaining: 1m 6s
1900:	learn: 0.8755360	test: 0.8201600	best: 0.8202880 (1898)	total: 10m 40s	remaining: 33.4s
1999:	learn: 0.8798880	test: 0.8224640	best: 0.8225920 (1998)	total: 11m 18s	remaining: 0us

bestTest = 0.822592
bestIteration = 1998

Shrink model to first 1999 iterations.
验证集准确率： 0.822592

分类报告：
               precision    recall  f1-score   support

      含砾砂质泥岩       0.67      0.67      0.67         3
          未知       0.89      0.87      0.88      1008
         油页岩       0.80      0.21      0.34       113
          泥岩       0.81      0.94      0.87      6628
     泥岩(粘土岩)       0.80      0.91      0.85      1908
        泥质盐岩       0.83      0.61      0.70        56
       泥质粉砂岩       0.74      0.26      0.38       433
        灰质泥岩       0.90      0.79      0.84        47
       灰质粉砂岩       0.67      0.21      0.32        19
       白云质泥岩       0.82      0.44      0.57        75
      白云质粉砂岩       1.00      1.00      1.00         3
      白云质细砂岩       1.00      0.33      0.50         3
          盐层       0.88      0.88      0.88      1761
          盐岩       1.00      0.20      0.33         5
       石盐质泥岩       0.74      0.77      0.75        26
       石膏质泥岩       0.81      0.47      0.60       566
        砂质泥岩       0.77      0.46      0.57       760
         粉砂岩       0.83      0.69      0.75      2044
         细砂岩       0.81      0.83      0.82        30
         膏盐岩       0.83      0.76      0.80       118
          页岩       1.00      0.37      0.54        19

    accuracy                           0.82     15625
   macro avg       0.84      0.60      0.67     15625
weighted avg       0.82      0.82      0.81     15625
```

```
              precision    recall  f1-score   support

          未知       0.00      0.00      0.00       730
          泥岩       0.26      0.90      0.40      4367
       泥质粉砂岩       0.00      0.00      0.00       714
      浅灰色粉砂岩       0.00      0.00      0.00        47
    浅灰色荧光粉砂岩       0.00      0.00      0.00       100
       深灰色泥岩       0.00      0.00      0.00       369
    深灰色白云质泥岩       0.00      0.00      0.00         4
     深灰色砂质泥岩       0.00      0.00      0.00        20
    深灰色钙芒硝泥岩       0.00      0.00      0.00         8
        灰色泥岩       0.00      0.00      0.00      2508
     灰色泥质粉砂岩       0.00      0.00      0.00        96
     灰色白云质泥岩       0.00      0.00      0.00        14
    灰色白云质粉砂岩       0.00      0.00      0.00         3
      灰色砂质泥岩       0.00      0.00      0.00       125
       灰色粉砂岩       0.00      0.00      0.00       386
   灰色荧光泥质粉砂岩       0.00      0.00      0.00         2
     灰色荧光粉砂岩       0.00      0.00      0.00         6
     灰褐色油斑泥岩       0.00      0.00      0.00        25
  灰褐色油斑白云质泥岩       0.00      0.00      0.00        38
    灰褐色油斑粉砂岩       0.00      0.00      0.00        72
  灰褐色油斑钙芒硝泥岩       0.00      0.00      0.00         2
     灰褐色油浸泥岩       0.00      0.00      0.00       270
       白云质泥岩       0.00      0.00      0.00        40
        白色盐岩       0.00      0.00      0.00      3045
          盐层       0.49      0.91      0.63      4540
        盐质泥岩       0.00      0.00      0.00       100
       石膏质泥岩       0.00      0.00      0.00      3423
        砂质泥岩       0.00      0.00      0.00       778
         粉砂岩       0.96      0.04      0.08      1981
       粉砂质泥岩       0.00      0.00      0.00        40
         膏盐岩       0.00      0.00      0.00         0
  褐灰色油迹白云质泥岩       0.00      0.00      0.00        26
    褐灰色油迹粉砂岩       0.00      0.00      0.00        21
  褐灰色油迹钙芒硝泥岩       0.00      0.00      0.00        13
  黄褐色荧光泥质白云岩       0.00      0.00      0.00         3

    accuracy                           0.34     23916
   macro avg       0.05      0.05      0.03     23916
weighted avg       0.22      0.34      0.20     23916
```



# 保存模型
model.save_model("catboost_lithology_model.cbm")

# 加载模型
model = CatBoostClassifier()
model.load_model("catboost_lithology_model.cbm")



准确率低的问题：

1、测试集中出现了很多训练集中没见过的岩性，自然无法预测。如“白色盐岩”、“灰褐色油迹白云质泥岩”等。井A14、A15、A16的岩性名称中带了颜色，如白色……，黄褐色……，应该删除掉颜色

2、类别分布严重不平衡：测试集中有很多类的样本数少如几十甚至个位数，训练集中完全没有或极少，导致模型训练不了这些类的有效边界。

3、训练样本对测试集无代表性：训练的数据覆盖的是类似 “泥岩”“盐层” 这类粗粒度标签，而测试集包含大量“浅灰色荧光粉砂岩”等细粒度类别，导致模型无法迁移。



**改进测试1：将测试集中的岩性的颜色描述删掉再试一下**

iterations=2000，learning_rate=0.03，depth=8时：

```
0:	learn: 0.6967040	test: 0.6963200	best: 0.6963200 (0)	total: 562ms	remaining: 18m 43s
100:	learn: 0.7292960	test: 0.7273600	best: 0.7273600 (100)	total: 40.9s	remaining: 12m 48s
200:	learn: 0.7457920	test: 0.7415040	best: 0.7415040 (200)	total: 1m 13s	remaining: 11m
300:	learn: 0.7596960	test: 0.7531520	best: 0.7531520 (300)	total: 1m 44s	remaining: 9m 49s
400:	learn: 0.7705440	test: 0.7607680	best: 0.7607680 (400)	total: 2m 13s	remaining: 8m 50s
500:	learn: 0.7803520	test: 0.7677440	best: 0.7677440 (500)	total: 2m 41s	remaining: 8m 3s
600:	learn: 0.7911680	test: 0.7746560	best: 0.7747840 (597)	total: 3m 14s	remaining: 7m 31s
700:	learn: 0.8005440	test: 0.7806080	best: 0.7806080 (700)	total: 3m 47s	remaining: 7m 1s
800:	learn: 0.8088320	test: 0.7843840	best: 0.7844480 (799)	total: 4m 22s	remaining: 6m 32s
900:	learn: 0.8172960	test: 0.7889920	best: 0.7889920 (897)	total: 4m 59s	remaining: 6m 5s
1000:	learn: 0.8253760	test: 0.7934080	best: 0.7935360 (998)	total: 5m 36s	remaining: 5m 35s
1100:	learn: 0.8323040	test: 0.7982080	best: 0.7982080 (1097)	total: 6m 12s	remaining: 5m 3s
1200:	learn: 0.8385120	test: 0.8005120	best: 0.8005120 (1198)	total: 6m 48s	remaining: 4m 31s
1300:	learn: 0.8445440	test: 0.8037760	best: 0.8038400 (1294)	total: 7m 25s	remaining: 3m 59s
1400:	learn: 0.8497120	test: 0.8071040	best: 0.8071040 (1399)	total: 8m	remaining: 3m 25s
1500:	learn: 0.8554720	test: 0.8097920	best: 0.8099840 (1496)	total: 8m 39s	remaining: 2m 52s
1600:	learn: 0.8609440	test: 0.8120320	best: 0.8120960 (1598)	total: 9m 16s	remaining: 2m 18s
1700:	learn: 0.8660160	test: 0.8139520	best: 0.8140800 (1699)	total: 9m 54s	remaining: 1m 44s
1800:	learn: 0.8705440	test: 0.8164480	best: 0.8167040 (1794)	total: 10m 30s	remaining: 1m 9s
1900:	learn: 0.8755360	test: 0.8201600	best: 0.8202880 (1898)	total: 11m 8s	remaining: 34.8s
1999:	learn: 0.8798880	test: 0.8224640	best: 0.8225920 (1998)	total: 11m 45s	remaining: 0us

bestTest = 0.822592
bestIteration = 1998

Shrink model to first 1999 iterations.
验证集准确率： 0.822592

分类报告：
               precision    recall  f1-score   support

      含砾砂质泥岩       0.67      0.67      0.67         3
          未知       0.89      0.87      0.88      1008
         油页岩       0.80      0.21      0.34       113
          泥岩       0.81      0.94      0.87      6628
     泥岩(粘土岩)       0.80      0.91      0.85      1908
        泥质盐岩       0.83      0.61      0.70        56
       泥质粉砂岩       0.74      0.26      0.38       433
        灰质泥岩       0.90      0.79      0.84        47
       灰质粉砂岩       0.67      0.21      0.32        19
       白云质泥岩       0.82      0.44      0.57        75
      白云质粉砂岩       1.00      1.00      1.00         3
      白云质细砂岩       1.00      0.33      0.50         3
          盐层       0.88      0.88      0.88      1761
          盐岩       1.00      0.20      0.33         5
       石盐质泥岩       0.74      0.77      0.75        26
       石膏质泥岩       0.81      0.47      0.60       566
        砂质泥岩       0.77      0.46      0.57       760
         粉砂岩       0.83      0.69      0.75      2044
         细砂岩       0.81      0.83      0.82        30
         膏盐岩       0.83      0.76      0.80       118
          页岩       1.00      0.37      0.54        19

    accuracy                           0.82     15625
   macro avg       0.84      0.60      0.67     15625
weighted avg       0.82      0.82      0.81     15625
```

```
            precision    recall  f1-score   support

        云质泥岩       0.00      0.00      0.00        18
          未知       0.00      0.00      0.00       730
        油斑泥岩       0.00      0.00      0.00        25
     油斑白云质泥岩       0.00      0.00      0.00        38
       油斑粉砂岩       0.00      0.00      0.00        72
     油斑钙芒硝泥岩       0.00      0.00      0.00         2
        油浸泥岩       0.00      0.00      0.00       270
     油迹白云质泥岩       0.00      0.00      0.00        26
       油迹粉砂岩       0.00      0.00      0.00        21
     油迹钙芒硝泥岩       0.00      0.00      0.00        13
          泥岩       0.45      0.94      0.60      7244
       泥质粉砂岩       0.00      0.00      0.00       810
       白云质泥岩       0.00      0.00      0.00        40
      白云质粉砂岩       0.00      0.00      0.00         3
          盐层       0.49      0.91      0.63      4540
          盐岩       0.00      0.00      0.00      3045
        盐质泥岩       0.00      0.00      0.00       100
       石膏质泥岩       0.00      0.00      0.00      3423
          砂岩       0.00      0.00      0.00       433
        砂质泥岩       0.00      0.00      0.00       923
         粉砂岩       0.96      0.04      0.08      1981
       粉砂质泥岩       0.00      0.00      0.00        40
         膏盐岩       0.00      0.00      0.00         0
     荧光泥质白云岩       0.00      0.00      0.00         3
     荧光泥质粉砂岩       0.00      0.00      0.00         2
       荧光粉砂岩       0.00      0.00      0.00       106
       钙芒硝泥岩       0.00      0.00      0.00         8

    accuracy                           0.46     23916
   macro avg       0.07      0.07      0.05     23916
weighted avg       0.31      0.46      0.31     23916
```



计算每类的权重（样本越少，权重越高）

iterations=1000，learning_rate=0.05，depth=6时：

```
{'粉砂岩': 7.646195253241987, '石膏质泥岩': 27.630415561450043, '泥岩': 2.357511976160839, '泥岩(粘土岩)': 8.18705789887346, '砂质泥岩': 20.5456936226167, '盐层': 8.87154009936125, '油页岩': 138.27433628318585, '未知': 15.497148524671461, '白云质泥岩': 207.64119601328903, '灰质泥岩': 332.4468085106383, '膏盐岩': 131.85654008438817, '泥质粉砂岩': 36.06462781304097, '页岩': 833.3333333333334, '细砂岩': 525.2100840336135, '泥质盐岩': 279.01785714285717, '石盐质泥岩': 612.7450980392157, '灰质粉砂岩': 856.1643835616438, '白云质粉砂岩': 5208.333333333333, '盐岩': 3289.4736842105262, '白云质细砂岩': 4464.285714285715, '含砾砂质泥岩': 4807.692307692308}
0:	learn: 0.2884466	test: 0.2861855	best: 0.2861855 (0)	total: 222ms	remaining: 3m 41s
100:	learn: 0.7362642	test: 0.6877212	best: 0.6877212 (100)	total: 16.2s	remaining: 2m 24s
200:	learn: 0.7963433	test: 0.7655394	best: 0.7655394 (200)	total: 31.8s	remaining: 2m 6s
300:	learn: 0.8296144	test: 0.7846510	best: 0.7914297 (268)	total: 50.3s	remaining: 1m 56s
400:	learn: 0.8530525	test: 0.8016912	best: 0.8018250 (399)	total: 1m 6s	remaining: 1m 40s
500:	learn: 0.8684354	test: 0.8162023	best: 0.8260275 (488)	total: 1m 23s	remaining: 1m 23s
600:	learn: 0.8800194	test: 0.8290133	best: 0.8321966 (548)	total: 1m 40s	remaining: 1m 6s
700:	learn: 0.8897136	test: 0.8341368	best: 0.8351290 (694)	total: 1m 57s	remaining: 50.3s
800:	learn: 0.8961849	test: 0.8493843	best: 0.8493933 (799)	total: 2m 15s	remaining: 33.6s
900:	learn: 0.9020068	test: 0.8533076	best: 0.8533076 (900)	total: 2m 32s	remaining: 16.8s
999:	learn: 0.9071551	test: 0.8545347	best: 0.8569904 (994)	total: 2m 55s	remaining: 0us

bestTest = 0.8569903826
bestIteration = 994

Shrink model to first 995 iterations.
验证集准确率： 0.665216

分类报告：
               precision    recall  f1-score   support

      含砾砂质泥岩       0.09      1.00      0.17         3
          未知       0.76      0.90      0.82      1008
         油页岩       0.22      0.85      0.35       113
          泥岩       0.91      0.54      0.68      6628
     泥岩(粘土岩)       0.81      0.79      0.80      1908
        泥质盐岩       0.30      0.95      0.45        56
       泥质粉砂岩       0.26      0.77      0.39       433
        灰质泥岩       0.35      0.96      0.51        47
       灰质粉砂岩       0.11      0.95      0.20        19
       白云质泥岩       0.25      0.95      0.39        75
      白云质粉砂岩       0.60      1.00      0.75         3
      白云质细砂岩       1.00      0.67      0.80         3
          盐层       0.80      0.87      0.84      1761
          盐岩       0.50      1.00      0.67         5
       石盐质泥岩       0.40      1.00      0.57        26
       石膏质泥岩       0.33      0.68      0.45       566
        砂质泥岩       0.49      0.56      0.52       760
         粉砂岩       0.70      0.61      0.66      2044
         细砂岩       0.48      1.00      0.65        30
         膏盐岩       0.50      0.92      0.65       118
          页岩       0.28      1.00      0.44        19

    accuracy                           0.67     15625
   macro avg       0.48      0.86      0.56     15625
weighted avg       0.77      0.67      0.69     15625
```

```
             precision    recall  f1-score   support

        云质泥岩       0.00      0.00      0.00        18
          未知       0.00      0.00      0.00       730
        油斑泥岩       0.00      0.00      0.00        25
     油斑白云质泥岩       0.00      0.00      0.00        38
       油斑粉砂岩       0.00      0.00      0.00        72
     油斑钙芒硝泥岩       0.00      0.00      0.00         2
        油浸泥岩       0.00      0.00      0.00       270
     油迹白云质泥岩       0.00      0.00      0.00        26
       油迹粉砂岩       0.00      0.00      0.00        21
     油迹钙芒硝泥岩       0.00      0.00      0.00        13
          泥岩       0.48      0.83      0.60      7244
        泥质盐岩       0.00      0.00      0.00         0
       泥质粉砂岩       0.05      0.01      0.02       810
        灰质泥岩       0.00      0.00      0.00         0
       灰质粉砂岩       0.00      0.00      0.00         0
       白云质泥岩       0.00      0.00      0.00        40
      白云质粉砂岩       0.00      0.00      0.00         3
          盐层       0.44      0.93      0.60      4540
          盐岩       0.00      0.00      0.00      3045
        盐质泥岩       0.00      0.00      0.00       100
       石膏质泥岩       0.00      0.00      0.00      3423
          砂岩       0.00      0.00      0.00       433
        砂质泥岩       0.00      0.00      0.00       923
         粉砂岩       0.90      0.18      0.30      1981
       粉砂质泥岩       0.00      0.00      0.00        40
         细砂岩       0.00      0.00      0.00         0
         膏盐岩       0.00      0.00      0.00         0
     荧光泥质白云岩       0.00      0.00      0.00         3
     荧光泥质粉砂岩       0.00      0.00      0.00         2
       荧光粉砂岩       0.00      0.00      0.00       106
       钙芒硝泥岩       0.00      0.00      0.00         8

    accuracy                           0.44     23916
   macro avg       0.06      0.06      0.05     23916
weighted avg       0.30      0.44      0.32     23916

```



由于A14井对岩性的分类非常细致，有“荧光”、“油迹”等形容词，尝试一下把A14放入训练集

A5放进测试集

iterations=2000, learning_rate=0.03, depth=8,

```
{'泥岩': 2.4344833171363782, '泥岩(粘土岩)': 7.875556719937124, '石膏质泥岩': 33.125068870523414, '砂质泥岩': 21.289660056657222, '盐岩': 24.48961303462322, '粉砂岩': 7.78379078197825, '盐层': 12.962915049590341, '未知': 13.024696707105718, '泥质粉砂岩': 59.175196850393704, '油浸泥岩': 278.3425925925926, '膏盐岩': 126.83966244725738, '石盐质泥岩': 589.4313725490196, '白云质泥岩': 303.64646464646466, '砂岩': 173.76300578034682, '灰质泥岩': 522.8, '泥质盐岩': 268.4017857142857, '油页岩': 133.0132743362832, '页岩': 801.6266666666667, '灰质粉砂岩': 812.4594594594595, '细砂岩': 505.2268907563025, '油斑粉砂岩': 1036.5862068965516, '荧光粉砂岩': 707.3176470588236, '荧光泥质白云岩': 20040.666666666668, '白云质粉砂岩': 4294.428571428572, '油斑泥岩': 3006.1, '油斑白云质泥岩': 2004.0666666666666, '白云质细砂岩': 4294.428571428572, '油迹白云质泥岩': 2862.9523809523807, '油迹钙芒硝泥岩': 6012.2, '云质泥岩': 4294.428571428572, '油斑钙芒硝泥岩': 30061.0, '含砾砂质泥岩': 4624.7692307692305, '油迹粉砂岩': 3536.5882352941176, '钙芒硝泥岩': 10020.333333333334, '荧光泥质粉砂岩': 30061.0}
0:	learn: 0.3077233	test: 0.2708568	best: 0.2708568 (0)	total: 694ms	remaining: 23m 8s
100:	learn: 0.7806396	test: 0.7321000	best: 0.7321000 (100)	total: 1m 1s	remaining: 19m 25s
200:	learn: 0.8242873	test: 0.7836083	best: 0.7836083 (200)	total: 1m 59s	remaining: 17m 50s
300:	learn: 0.8529016	test: 0.8038422	best: 0.8038422 (300)	total: 3m 1s	remaining: 17m 3s
400:	learn: 0.8737336	test: 0.8071032	best: 0.8131054 (388)	total: 4m 8s	remaining: 16m 30s
500:	learn: 0.8982183	test: 0.8311225	best: 0.8311225 (500)	total: 5m 13s	remaining: 15m 38s
600:	learn: 0.9106790	test: 0.8404476	best: 0.8422378 (594)	total: 6m 17s	remaining: 14m 39s
700:	learn: 0.9190078	test: 0.8507458	best: 0.8539506 (687)	total: 7m 22s	remaining: 13m 40s
800:	learn: 0.9270352	test: 0.8567302	best: 0.8607344 (796)	total: 8m 28s	remaining: 12m 40s
900:	learn: 0.9325536	test: 0.8675071	best: 0.8675071 (900)	total: 9m 34s	remaining: 11m 40s
1000:	learn: 0.9365099	test: 0.8684288	best: 0.8687010 (999)	total: 10m 44s	remaining: 10m 43s
1100:	learn: 0.9404290	test: 0.8721824	best: 0.8722261 (1099)	total: 11m 53s	remaining: 9m 42s
1200:	learn: 0.9434778	test: 0.8734513	best: 0.8734578 (1199)	total: 12m 58s	remaining: 8m 37s
1300:	learn: 0.9465064	test: 0.8743024	best: 0.8751214 (1284)	total: 14m 5s	remaining: 7m 34s
1400:	learn: 0.9493522	test: 0.8752956	best: 0.8754231 (1395)	total: 15m 22s	remaining: 6m 34s
1500:	learn: 0.9514438	test: 0.8769920	best: 0.8772707 (1498)	total: 16m 42s	remaining: 5m 33s
1600:	learn: 0.9535837	test: 0.8781009	best: 0.8790345 (1581)	total: 18m 9s	remaining: 4m 31s
1700:	learn: 0.9556994	test: 0.8802375	best: 0.8815764 (1669)	total: 19m 53s	remaining: 3m 29s
1800:	learn: 0.9572509	test: 0.8825240	best: 0.8827677 (1770)	total: 21m 10s	remaining: 2m 20s
1900:	learn: 0.9589459	test: 0.8837949	best: 0.8839213 (1843)	total: 22m 16s	remaining: 1m 9s
1999:	learn: 0.9605829	test: 0.8826555	best: 0.8846729 (1991)	total: 23m 29s	remaining: 0us

bestTest = 0.8846728752
bestIteration = 1991

Shrink model to first 1992 iterations.
验证集准确率： 0.7389395249817045

分类报告：
               precision    recall  f1-score   support

        云质泥岩       0.57      1.00      0.73         4
      含砾砂质泥岩       0.11      1.00      0.20         3
          未知       0.80      0.79      0.80      1154
        油斑泥岩       0.50      1.00      0.67         5
     油斑白云质泥岩       0.37      0.88      0.52         8
       油斑粉砂岩       0.93      1.00      0.97        14
     油斑钙芒硝泥岩       0.00      0.00      0.00         0
        油浸泥岩       0.53      0.85      0.66        54
     油迹白云质泥岩       0.11      0.40      0.17         5
       油迹粉砂岩       0.67      1.00      0.80         4
     油迹钙芒硝泥岩       0.43      1.00      0.60         3
         油页岩       0.28      0.83      0.42       113
          泥岩       0.93      0.64      0.76      6174
     泥岩(粘土岩)       0.84      0.82      0.83      1908
        泥质盐岩       0.46      0.95      0.62        56
       泥质粉砂岩       0.28      0.79      0.41       254
        灰质泥岩       0.57      1.00      0.72        29
       灰质粉砂岩       0.16      0.94      0.28        18
       白云质泥岩       0.34      0.94      0.50        50
      白云质粉砂岩       0.44      1.00      0.62         4
      白云质细砂岩       0.60      1.00      0.75         3
          盐层       0.80      0.93      0.86      1160
          盐岩       0.81      0.96      0.88       614
       石盐质泥岩       0.46      1.00      0.63        26
       石膏质泥岩       0.46      0.80      0.58       454
          砂岩       0.57      0.98      0.72        87
        砂质泥岩       0.56      0.69      0.62       706
         粉砂岩       0.74      0.69      0.71      1931
         细砂岩       0.61      0.90      0.73        30
         膏盐岩       0.57      0.85      0.68       118
     荧光泥质白云岩       0.00      0.00      0.00         0
       荧光粉砂岩       0.24      0.81      0.37        21
       钙芒硝泥岩       0.67      1.00      0.80         2
          页岩       0.28      0.79      0.42        19

    accuracy                           0.74     15031
   macro avg       0.49      0.83      0.59     15031
weighted avg       0.81      0.74      0.75     15031
```

```
              precision    recall  f1-score   support

        云质泥岩       0.69      1.00      0.82        18
          未知       0.41      0.11      0.18       730
        油斑泥岩       0.76      1.00      0.86        25
     油斑白云质泥岩       0.49      0.97      0.65        38
       油斑粉砂岩       0.83      1.00      0.91        72
     油斑钙芒硝泥岩       0.50      1.00      0.67         2
        油浸泥岩       0.56      0.97      0.71       270
     油迹白云质泥岩       0.30      0.88      0.45        26
       油迹粉砂岩       0.66      1.00      0.79        21
     油迹钙芒硝泥岩       0.45      1.00      0.62        13
          泥岩       0.44      0.77      0.56      7244
        泥质盐岩       0.00      0.00      0.00         0
       泥质粉砂岩       0.39      0.10      0.16       810
        灰质泥岩       0.00      0.00      0.00         0
       灰质粉砂岩       0.00      0.00      0.00         0
       白云质泥岩       0.00      0.00      0.00        40
      白云质粉砂岩       0.75      1.00      0.86         3
          盐层       0.77      0.59      0.67      4540
          盐岩       0.80      0.98      0.88      3045
        盐质泥岩       0.00      0.00      0.00       100
       石膏质泥岩       0.00      0.00      0.00      3423
          砂岩       0.48      0.99      0.65       433
        砂质泥岩       0.49      0.11      0.18       923
         粉砂岩       0.87      0.36      0.51      1981
       粉砂质泥岩       0.00      0.00      0.00        40
         膏盐岩       0.00      0.00      0.00         0
     荧光泥质白云岩       0.60      1.00      0.75         3
     荧光泥质粉砂岩       1.00      1.00      1.00         2
       荧光粉砂岩       0.28      0.96      0.44       106
       钙芒硝泥岩       0.80      1.00      0.89         8

    accuracy                           0.55     23916
   macro avg       0.44      0.59      0.47     23916
weighted avg       0.52      0.55      0.50     23916
```





iterations=1000, learning_rate=0.03, depth=6,

```
{'泥岩': 2.4344833171363782, '泥岩(粘土岩)': 7.875556719937124, '石膏质泥岩': 33.125068870523414, '砂质泥岩': 21.289660056657222, '盐岩': 24.48961303462322, '粉砂岩': 7.78379078197825, '盐层': 12.962915049590341, '未知': 13.024696707105718, '泥质粉砂岩': 59.175196850393704, '油浸泥岩': 278.3425925925926, '膏盐岩': 126.83966244725738, '石盐质泥岩': 589.4313725490196, '白云质泥岩': 303.64646464646466, '砂岩': 173.76300578034682, '灰质泥岩': 522.8, '泥质盐岩': 268.4017857142857, '油页岩': 133.0132743362832, '页岩': 801.6266666666667, '灰质粉砂岩': 812.4594594594595, '细砂岩': 505.2268907563025, '油斑粉砂岩': 1036.5862068965516, '荧光粉砂岩': 707.3176470588236, '荧光泥质白云岩': 20040.666666666668, '白云质粉砂岩': 4294.428571428572, '油斑泥岩': 3006.1, '油斑白云质泥岩': 2004.0666666666666, '白云质细砂岩': 4294.428571428572, '油迹白云质泥岩': 2862.9523809523807, '油迹钙芒硝泥岩': 6012.2, '云质泥岩': 4294.428571428572, '油斑钙芒硝泥岩': 30061.0, '含砾砂质泥岩': 4624.7692307692305, '油迹粉砂岩': 3536.5882352941176, '钙芒硝泥岩': 10020.333333333334, '荧光泥质粉砂岩': 30061.0}
0:	learn: 0.1796684	test: 0.1605886	best: 0.1605886 (0)	total: 427ms	remaining: 7m 6s
100:	learn: 0.7420203	test: 0.7017899	best: 0.7018131 (98)	total: 40.8s	remaining: 6m 3s
200:	learn: 0.7845797	test: 0.7408816	best: 0.7408816 (200)	total: 1m 11s	remaining: 4m 45s
300:	learn: 0.8146868	test: 0.7639036	best: 0.7664210 (296)	total: 1m 41s	remaining: 3m 56s
400:	learn: 0.8375035	test: 0.7832274	best: 0.7835314 (398)	total: 2m 12s	remaining: 3m 18s
500:	learn: 0.8683843	test: 0.8006463	best: 0.8006463 (500)	total: 2m 45s	remaining: 2m 45s
600:	learn: 0.8820315	test: 0.8145045	best: 0.8191722 (578)	total: 3m 30s	remaining: 2m 19s
700:	learn: 0.8929851	test: 0.8307160	best: 0.8307160 (700)	total: 4m 20s	remaining: 1m 50s
800:	learn: 0.9003937	test: 0.8416911	best: 0.8417648 (798)	total: 5m	remaining: 1m 14s
900:	learn: 0.9088226	test: 0.8483543	best: 0.8483730 (897)	total: 5m 41s	remaining: 37.5s
999:	learn: 0.9138958	test: 0.8503590	best: 0.8509049 (998)	total: 6m 28s	remaining: 0us

bestTest = 0.8509048981
bestIteration = 998

Shrink model to first 999 iterations.
验证集准确率： 0.6278358060009314

分类报告：
               precision    recall  f1-score   support

        云质泥岩       0.40      1.00      0.57         4
      含砾砂质泥岩       0.05      1.00      0.09         3
          未知       0.79      0.71      0.75      1154
        油斑泥岩       0.50      1.00      0.67         5
     油斑白云质泥岩       0.32      0.88      0.47         8
       油斑粉砂岩       0.88      1.00      0.93        14
     油斑钙芒硝泥岩       0.00      0.00      0.00         0
        油浸泥岩       0.37      0.83      0.51        54
     油迹白云质泥岩       0.10      0.40      0.15         5
       油迹粉砂岩       0.36      1.00      0.53         4
     油迹钙芒硝泥岩       0.38      1.00      0.55         3
         油页岩       0.16      0.80      0.26       113
          泥岩       0.90      0.49      0.64      6174
     泥岩(粘土岩)       0.78      0.76      0.77      1908
        泥质盐岩       0.28      0.96      0.44        56
       泥质粉砂岩       0.16      0.60      0.26       254
        灰质泥岩       0.28      1.00      0.44        29
       灰质粉砂岩       0.06      0.94      0.11        18
       白云质泥岩       0.18      0.96      0.31        50
      白云质粉砂岩       0.29      1.00      0.44         4
      白云质细砂岩       0.38      1.00      0.55         3
          盐层       0.78      0.89      0.83      1160
          盐岩       0.82      0.94      0.87       614
       石盐质泥岩       0.35      1.00      0.52        26
       石膏质泥岩       0.29      0.60      0.39       454
          砂岩       0.33      0.90      0.48        87
        砂质泥岩       0.48      0.48      0.48       706
         粉砂岩       0.72      0.59      0.65      1931
         细砂岩       0.38      0.87      0.53        30
         膏盐岩       0.41      0.81      0.54       118
     荧光泥质白云岩       0.00      0.00      0.00         0
       荧光粉砂岩       0.12      0.81      0.22        21
       钙芒硝泥岩       0.67      1.00      0.80         2
          页岩       0.16      0.89      0.27        19

    accuracy                           0.63     15031
   macro avg       0.39      0.80      0.47     15031
weighted avg       0.77      0.63      0.66     15031
```

```
              precision    recall  f1-score   support

        云质泥岩       0.31      1.00      0.47        18
          未知       0.32      0.03      0.06       730
        油斑泥岩       0.74      1.00      0.85        25
     油斑白云质泥岩       0.39      0.97      0.55        38
       油斑粉砂岩       0.72      1.00      0.84        72
     油斑钙芒硝泥岩       0.40      1.00      0.57         2
        油浸泥岩       0.43      0.95      0.60       270
     油迹白云质泥岩       0.23      0.88      0.37        26
       油迹粉砂岩       0.45      1.00      0.62        21
     油迹钙芒硝泥岩       0.29      1.00      0.45        13
          泥岩       0.46      0.62      0.53      7244
        泥质盐岩       0.00      0.00      0.00         0
       泥质粉砂岩       0.16      0.04      0.06       810
        灰质泥岩       0.00      0.00      0.00         0
       灰质粉砂岩       0.00      0.00      0.00         0
       白云质泥岩       0.00      0.00      0.00        40
      白云质粉砂岩       0.75      1.00      0.86         3
          盐层       0.68      0.58      0.63      4540
          盐岩       0.81      0.95      0.87      3045
        盐质泥岩       0.00      0.00      0.00       100
       石膏质泥岩       0.00      0.00      0.00      3423
          砂岩       0.29      0.95      0.45       433
        砂质泥岩       0.24      0.01      0.02       923
         粉砂岩       0.83      0.48      0.61      1981
       粉砂质泥岩       0.00      0.00      0.00        40
         膏盐岩       0.00      0.00      0.00         0
     荧光泥质白云岩       0.43      1.00      0.60         3
     荧光泥质粉砂岩       1.00      1.00      1.00         2
       荧光粉砂岩       0.14      0.95      0.24       106
       钙芒硝泥岩       0.73      1.00      0.84         8

    accuracy                           0.51     23916
   macro avg       0.36      0.58      0.40     23916
weighted avg       0.48      0.51      0.47     23916
```

迭代2000次的时候 在测试集上的acc = 0.55

迭代1000次的时候 在测试集上的acc = 0.51



support表示在这个数据集中 每个类别（标签）所包含的样本数量





粗粒度：

iterations=1000, learning_rate=0.03, depth=6,

```
{'未知': 12.976169844020797, '泥质粉砂岩': 58.83889980353634, '盐岩': 7.809387222946545, '粉砂岩': 7.514490026345502, '泥岩': 1.8328080536091307, '细砂岩/砂岩类': 125.04801670146138, '砂质泥岩': 21.113147691223123, '石膏质泥岩': 33.001652892561985, '白云质泥岩': 225.18045112781954, '页岩': 113.6584440227704, '钙芒硝岩类': 3327.6666666666665}
0:	learn: 0.3941895	test: 0.4332256	best: 0.4332256 (0)	total: 230ms	remaining: 3m 49s
100:	learn: 0.6497097	test: 0.6294355	best: 0.6294355 (100)	total: 9.63s	remaining: 1m 25s
200:	learn: 0.6883205	test: 0.6440718	best: 0.6531314 (159)	total: 20.1s	remaining: 1m 19s
300:	learn: 0.7227998	test: 0.6775324	best: 0.6775324 (300)	total: 28.6s	remaining: 1m 6s
400:	learn: 0.7487770	test: 0.7018163	best: 0.7018163 (400)	total: 37s	remaining: 55.2s
500:	learn: 0.7770822	test: 0.7215185	best: 0.7217526 (498)	total: 45.6s	remaining: 45.4s
600:	learn: 0.7972100	test: 0.7402292	best: 0.7402292 (600)	total: 55.8s	remaining: 37s
700:	learn: 0.8117044	test: 0.7526522	best: 0.7526522 (700)	total: 1m 5s	remaining: 27.8s
800:	learn: 0.8267717	test: 0.7625153	best: 0.7629116 (799)	total: 1m 14s	remaining: 18.5s
900:	learn: 0.8379189	test: 0.7713111	best: 0.7713111 (900)	total: 1m 23s	remaining: 9.18s
999:	learn: 0.8469101	test: 0.7784518	best: 0.7784846 (996)	total: 1m 32s	remaining: 0us

bestTest = 0.7784846124
bestIteration = 996

Shrink model to first 997 iterations.
验证集准确率： 0.6243739565943238

分类报告：
               precision    recall  f1-score   support

          未知       0.71      0.81      0.75      1154
          泥岩       0.94      0.48      0.63      8170
       泥质粉砂岩       0.18      0.78      0.30       254
       白云质泥岩       0.23      0.91      0.36        67
          盐岩       0.78      0.91      0.84      1917
       石膏质泥岩       0.28      0.77      0.41       454
        砂质泥岩       0.37      0.69      0.48       709
         粉砂岩       0.64      0.72      0.68      1993
     细砂岩/砂岩类       0.38      0.98      0.55       120
       钙芒硝岩类       0.09      0.60      0.15         5
          页岩       0.17      0.93      0.28       132

    accuracy                           0.62     14975
   macro avg       0.43      0.78      0.49     14975
weighted avg       0.79      0.62      0.65     14975
```

```
              precision    recall  f1-score   support

          未知       0.35      0.10      0.15       730
          泥岩       0.48      0.64      0.55      7539
       泥质粉砂岩       0.18      0.06      0.09       812
       白云质泥岩       0.22      0.63      0.33       125
          盐岩       0.77      0.96      0.85      7685
       石膏质泥岩       0.00      0.00      0.00      3423
        砂质泥岩       0.28      0.12      0.16       923
         粉砂岩       0.83      0.44      0.58      2223
     细砂岩/砂岩类       0.26      1.00      0.42       433
       钙芒硝岩类       0.12      0.91      0.22        23

    accuracy                           0.58     23916
   macro avg       0.35      0.49      0.34     23916
weighted avg       0.51      0.58      0.52     23916

```







iterations=2000, learning_rate=0.03, depth=8,

```
{'未知': 12.976169844020797, '泥质粉砂岩': 58.83889980353634, '盐岩': 7.809387222946545, '粉砂岩': 7.514490026345502, '泥岩': 1.8328080536091307, '细砂岩/砂岩类': 125.04801670146138, '砂质泥岩': 21.113147691223123, '石膏质泥岩': 33.001652892561985, '白云质泥岩': 225.18045112781954, '页岩': 113.6584440227704, '钙芒硝岩类': 3327.6666666666665}
0:	learn: 0.4730977	test: 0.4582753	best: 0.4582753 (0)	total: 176ms	remaining: 5m 51s
100:	learn: 0.6881837	test: 0.6436258	best: 0.6555876 (86)	total: 17.8s	remaining: 5m 33s
200:	learn: 0.7401035	test: 0.6916660	best: 0.6916660 (200)	total: 35.7s	remaining: 5m 19s
300:	learn: 0.7758559	test: 0.7155935	best: 0.7155935 (300)	total: 53.7s	remaining: 5m 3s
400:	learn: 0.8057458	test: 0.7414460	best: 0.7414460 (400)	total: 1m 11s	remaining: 4m 46s
500:	learn: 0.8344165	test: 0.7651896	best: 0.7657523 (494)	total: 1m 30s	remaining: 4m 31s
600:	learn: 0.8539722	test: 0.7778754	best: 0.7784908 (599)	total: 1m 49s	remaining: 4m 15s
700:	learn: 0.8694301	test: 0.7903860	best: 0.7903860 (700)	total: 2m 8s	remaining: 3m 57s
800:	learn: 0.8824176	test: 0.7980514	best: 0.7984722 (796)	total: 2m 26s	remaining: 3m 39s
900:	learn: 0.8911458	test: 0.8035367	best: 0.8041803 (874)	total: 2m 45s	remaining: 3m 21s
1000:	learn: 0.8992965	test: 0.8103676	best: 0.8103676 (1000)	total: 3m 3s	remaining: 3m 3s
1100:	learn: 0.9059086	test: 0.8164628	best: 0.8164628 (1100)	total: 3m 21s	remaining: 2m 44s
1200:	learn: 0.9115453	test: 0.8220755	best: 0.8221592 (1186)	total: 3m 39s	remaining: 2m 26s
1300:	learn: 0.9166125	test: 0.8261028	best: 0.8261480 (1299)	total: 3m 58s	remaining: 2m 7s
1400:	learn: 0.9215758	test: 0.8279250	best: 0.8280408 (1399)	total: 4m 16s	remaining: 1m 49s
1500:	learn: 0.9256992	test: 0.8302880	best: 0.8302880 (1500)	total: 4m 34s	remaining: 1m 31s
1600:	learn: 0.9291614	test: 0.8334672	best: 0.8339547 (1554)	total: 4m 52s	remaining: 1m 12s
1700:	learn: 0.9327787	test: 0.8337109	best: 0.8342927 (1616)	total: 5m 10s	remaining: 54.7s
1800:	learn: 0.9353654	test: 0.8344289	best: 0.8353604 (1747)	total: 5m 29s	remaining: 36.4s
1900:	learn: 0.9377969	test: 0.8350397	best: 0.8353604 (1747)	total: 5m 47s	remaining: 18.1s
1999:	learn: 0.9400044	test: 0.8375463	best: 0.8376377 (1991)	total: 6m 5s	remaining: 0us

bestTest = 0.8376376673
bestIteration = 1991

Shrink model to first 1992 iterations.
验证集准确率： 0.7574624373956594

分类报告：
               precision    recall  f1-score   support

          未知       0.77      0.86      0.81      1154
          泥岩       0.95      0.66      0.78      8170
       泥质粉砂岩       0.36      0.87      0.51       254
       白云质泥岩       0.41      0.94      0.58        67
          盐岩       0.81      0.95      0.88      1917
       石膏质泥岩       0.44      0.85      0.58       454
        砂质泥岩       0.49      0.82      0.61       709
         粉砂岩       0.68      0.80      0.74      1993
     细砂岩/砂岩类       0.58      0.98      0.73       120
       钙芒硝岩类       0.25      0.60      0.35         5
          页岩       0.32      0.89      0.47       132

    accuracy                           0.76     14975
   macro avg       0.55      0.84      0.64     14975
weighted avg       0.83      0.76      0.77     14975
```

```
              precision    recall  f1-score   support

          未知       0.64      0.39      0.49       730
          泥岩       0.49      0.80      0.61      7539
       泥质粉砂岩       0.44      0.12      0.19       812
       白云质泥岩       0.37      0.66      0.47       125
          盐岩       0.82      0.91      0.86      7685
       石膏质泥岩       0.00      0.00      0.00      3423
        砂质泥岩       0.38      0.15      0.21       923
         粉砂岩       0.84      0.36      0.51      2223
     细砂岩/砂岩类       0.47      1.00      0.64       433
       钙芒硝岩类       0.40      0.91      0.56        23

    accuracy                           0.62     23916
   macro avg       0.49      0.53      0.45     23916
weighted avg       0.56      0.62      0.56     23916
```









```
{'未知': 12.976169844020797, '泥质粉砂岩': 58.83889980353634, '盐岩': 7.809387222946545, '粉砂岩': 7.514490026345502, '泥岩': 1.8328080536091307, '细砂岩/砂岩类': 125.04801670146138, '砂质泥岩': 21.113147691223123, '石膏质泥岩': 33.001652892561985, '白云质泥岩': 225.18045112781954, '页岩': 113.6584440227704, '钙芒硝岩类': 3327.6666666666665}
0:	learn: 0.4730977	test: 0.4582753	best: 0.4582753 (0)	total: 184ms	remaining: 9m 13s
100:	learn: 0.6630996	test: 0.6432872	best: 0.6456383 (66)	total: 18.7s	remaining: 8m 56s
200:	learn: 0.7069833	test: 0.6610290	best: 0.6762767 (187)	total: 36.6s	remaining: 8m 29s
300:	learn: 0.7401918	test: 0.6885908	best: 0.6893424 (297)	total: 54.8s	remaining: 8m 11s
400:	learn: 0.7639663	test: 0.7070625	best: 0.7070625 (400)	total: 1m 13s	remaining: 7m 53s
500:	learn: 0.7822521	test: 0.7238003	best: 0.7239381 (499)	total: 1m 31s	remaining: 7m 34s
600:	learn: 0.8058983	test: 0.7440208	best: 0.7440208 (600)	total: 1m 49s	remaining: 7m 16s
700:	learn: 0.8273403	test: 0.7618416	best: 0.7618416 (700)	total: 2m 8s	remaining: 6m 59s
800:	learn: 0.8405576	test: 0.7719761	best: 0.7719761 (800)	total: 2m 26s	remaining: 6m 41s
900:	learn: 0.8531529	test: 0.7810047	best: 0.7810047 (900)	total: 2m 45s	remaining: 6m 24s
1000:	learn: 0.8642943	test: 0.7888013	best: 0.7888013 (1000)	total: 3m 3s	remaining: 6m 6s
1100:	learn: 0.8733197	test: 0.7941867	best: 0.7943317 (1084)	total: 3m 22s	remaining: 5m 49s
1200:	learn: 0.8825973	test: 0.8000345	best: 0.8000345 (1199)	total: 3m 41s	remaining: 5m 31s
1300:	learn: 0.8899051	test: 0.8045185	best: 0.8046019 (1296)	total: 3m 59s	remaining: 5m 12s
1400:	learn: 0.8962439	test: 0.8074395	best: 0.8077661 (1365)	total: 4m 18s	remaining: 4m 54s
1500:	learn: 0.9001384	test: 0.8129167	best: 0.8129167 (1500)	total: 4m 38s	remaining: 4m 37s
1600:	learn: 0.9045935	test: 0.8148939	best: 0.8160067 (1584)	total: 4m 57s	remaining: 4m 20s
1700:	learn: 0.9085864	test: 0.8164461	best: 0.8167995 (1699)	total: 5m 15s	remaining: 4m 1s
1800:	learn: 0.9127449	test: 0.8193295	best: 0.8194006 (1789)	total: 5m 34s	remaining: 3m 42s
1900:	learn: 0.9165086	test: 0.8210169	best: 0.8210565 (1888)	total: 5m 52s	remaining: 3m 23s
2000:	learn: 0.9194884	test: 0.8238183	best: 0.8238584 (1975)	total: 6m 10s	remaining: 3m 4s
2100:	learn: 0.9224159	test: 0.8247557	best: 0.8254303 (2033)	total: 6m 28s	remaining: 2m 46s
2200:	learn: 0.9257189	test: 0.8254890	best: 0.8269145 (2149)	total: 6m 46s	remaining: 2m 27s
2300:	learn: 0.9284142	test: 0.8271448	best: 0.8271569 (2289)	total: 7m 5s	remaining: 2m 9s
2400:	learn: 0.9308027	test: 0.8286000	best: 0.8287677 (2385)	total: 7m 23s	remaining: 1m 50s
2500:	learn: 0.9325729	test: 0.8302503	best: 0.8304485 (2499)	total: 7m 41s	remaining: 1m 32s
2600:	learn: 0.9344374	test: 0.8300758	best: 0.8306562 (2575)	total: 7m 59s	remaining: 1m 13s
2700:	learn: 0.9361509	test: 0.8329518	best: 0.8330626 (2686)	total: 8m 18s	remaining: 55.1s
2800:	learn: 0.9380997	test: 0.8344739	best: 0.8345566 (2798)	total: 8m 37s	remaining: 36.8s
2900:	learn: 0.9393463	test: 0.8363169	best: 0.8364917 (2892)	total: 8m 56s	remaining: 18.3s
2999:	learn: 0.9409245	test: 0.8365770	best: 0.8368456 (2983)	total: 9m 14s	remaining: 0us

bestTest = 0.8368456317
bestIteration = 2983

Shrink model to first 2984 iterations.
验证集准确率： 0.7580634390651085

分类报告：
               precision    recall  f1-score   support

          未知       0.77      0.87      0.81      1154
          泥岩       0.96      0.66      0.78      8170
       泥质粉砂岩       0.36      0.88      0.51       254
       白云质泥岩       0.40      0.91      0.56        67
          盐岩       0.81      0.95      0.88      1917
       石膏质泥岩       0.43      0.85      0.58       454
        砂质泥岩       0.50      0.81      0.62       709
         粉砂岩       0.68      0.81      0.74      1993
     细砂岩/砂岩类       0.59      0.98      0.74       120
       钙芒硝岩类       0.27      0.60      0.38         5
          页岩       0.32      0.90      0.47       132

    accuracy                           0.76     14975
   macro avg       0.56      0.84      0.64     14975
weighted avg       0.83      0.76      0.77     14975
```

```
              precision    recall  f1-score   support

          未知       0.66      0.43      0.52       730
          泥岩       0.50      0.80      0.61      7539
       泥质粉砂岩       0.43      0.12      0.19       812
       白云质泥岩       0.37      0.65      0.47       125
          盐岩       0.82      0.91      0.86      7685
       石膏质泥岩       0.00      0.00      0.00      3423
        砂质泥岩       0.40      0.15      0.21       923
         粉砂岩       0.81      0.39      0.53      2223
     细砂岩/砂岩类       0.47      1.00      0.64       433
       钙芒硝岩类       0.41      0.91      0.57        23

    accuracy                           0.63     23916
   macro avg       0.49      0.53      0.46     23916
weighted avg       0.56      0.63      0.57     23916
```

