## 初识node.js

node.js是Javascript的后端运行环境

node.js中无法调用DOM、BOM、Ajax等浏览器内置API

## fs文件系统模块

```
const fs = require('fs')
fs.readFile0方法，用来读取指定文件中的内容 
fs.writeFile0方法，用来向指定的文件中写入内容
```

<img src="assets/image-20251111153651126.png" alt="image-20251111153651126" style="zoom:67%;" />

<img src="assets/image-20251111154533398.png" alt="image-20251111154533398" style="zoom:67%;" />

会以执行node命令时所处的目录进行拼接，而非js文件所处的目录：

![image-20251111160147704](assets/image-20251111160147704.png)

解决路径拼接错误问题：绝对路径

另外，可以使用__dirname (表示当前文件所处目录)

![image-20251111160542812](assets/image-20251111160542812.png)

## path路径模块

path.join()方法，用来将多个路径片段拼接成一个完整的路径字符串 

path.basename()方法，用来从路径字符串中，将文件名解析出来

path.extname()方法， 获取路径中的扩展名

```js
const path = require('path');

// path.join()
const pathStr = path.join('/a', '/b/c', '../', './d', 'e.txt');
console.log(pathStr); // 输出: \a\b\d\e.txt

const pathStr2 = path.join(__dirname, '/1.txt');
console.log(pathStr2); // C:\Users\86151\Desktop\nodejsTest\1.txt

// path.basename()
const fpath = '/a/b/c/index.html';

var fullName  = path.basename(fpath);
console.log(fullName); // index.html

var nameWithoutExt = path.basename(fpath, '.html');
console.log(nameWithoutExt); // index

// path.extname()
const fext = path.extname(fpath);
console.log(fext); // .html
```

## 时钟案例

创建两个正则表达式，分别用来匹配<style>和<script>标签

使用fs模块，读取需要被处理的HTML文件

自定义resolveCSS方法，来写入index..css样式文件

自定义resolveJS方法，来写入index.js脚本文件

自定义resolveHTML方法，来写入index.html文件